var v=Object.defineProperty,C=Object.defineProperties;var w=Object.getOwnPropertyDescriptors;var c=Object.getOwnPropertySymbols;var d=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable;var l=(e,r,n)=>r in e?v(e,r,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[r]=n,g=(e,r)=>{for(var n in r||(r={}))d.call(r,n)&&l(e,n,r[n]);if(c)for(var n of c(r))f.call(r,n)&&l(e,n,r[n]);return e},h=(e,r)=>C(e,w(r));var y=(e,r)=>{var n={};for(var t in e)d.call(e,t)&&r.indexOf(t)<0&&(n[t]=e[t]);if(e!=null&&c)for(var t of c(e))r.indexOf(t)<0&&f.call(e,t)&&(n[t]=e[t]);return n};import*as u from"react";function P(e,r,n){let[t,a]=u.useState({columns:0,gap:0});return u.useEffect(()=>{if(!e){a({columns:r[0],gap:n[0]});return}let i=e.map(o=>window.matchMedia(`(min-width: ${o}px)`)),s=()=>{let o=0;i.forEach(p=>{p.matches&&o++});let m=Math.min(i.length-1,Math.max(0,o));a({columns:r[m],gap:n[m]})};s();for(let o of i)o.addEventListener("change",s);return()=>{for(let o of i)o.removeEventListener("change",s)}},[t.columns,t.gap]),t}function x(e){return Array.isArray(e)?e:[e]}function k(a){var i=a,{items:e=[],render:r,config:n}=i,t=y(i,["items","render","config"]);let{columns:s,gap:o}=P(n.media,x(n.columns),x(n.gap));if(!s)return null;let m=E(e,s),p=Q(m,s);return u.createElement("div",h(g({},t),{style:{display:"grid",alignItems:"start",gridColumnGap:o,gridTemplateColumns:`repeat(${s}, minmax(0, 1fr))`}}),p.map((T,b)=>u.createElement(A,{gap:o,key:b},T.map((M,R)=>r(M,R)))))}function A({children:e,gap:r}){return u.createElement("div",{style:{display:"grid",rowGap:r,gridTemplateColumns:"minmax(0, 1fr)"}},e)}function E(e=[],r=3){let n=[];for(let t=0;t<e.length;t+=r){let a=e.slice(t,t+r);n.push(a)}return n}function Q(e=[],r=3){let n=Array.from({length:r},()=>[]);for(let t=0;t<r;t++)for(let a=0;a<e.length;a+=1)e[a][t]&&n[t].push(e[a][t]);return n}export{k as Masonry};
